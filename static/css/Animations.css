/* 界面元素动画 - 将所有 @keyframes 与小的动画相关的类集中在此文件 */

/* 常用动效 */
@keyframes screenMove {
  0% { margin-top: 0; }
  50% { margin-top: 0.125rem; }
  100% { margin-top: 0; }
}

@keyframes loader {
  0% { filter: blur(0); transform: scale(1) rotate(0); }
  50% { filter: blur(6px); transform: scale(3) rotate(30deg); }
  100% { filter: blur(0); transform: scale(1) rotate(0); }
}

@keyframes startGame {
  0% { bottom: -10rem; opacity: 0; }
  100% { opacity: 1; bottom: 1rem; }
}

/* 翻转相关 */
@keyframes flipBack {
  from { background-image: none; width: calc(42.5rem - 3.25rem); transform: rotateY(-180deg); }
  to   { background-image: url("../images/interface/adventure.svg"); width: 10rem; transform: rotateY(0); }
}

@keyframes flip {
  from { width: 10rem; transform: rotateY(180deg); }
  to   { width: calc(680px - 52px); transform: rotateY(0); }
}

/* 元素显示/隐藏过渡 */
@keyframes levelDisplay { from { opacity: 0; width: 0; } to { opacity: 1; width: auto; } }
@keyframes townDisplay  { from { opacity: 0; left: 12.5rem; } to { opacity: 1; left: 0; } }
@keyframes upgradeOutcome { from { top: 120px; } to { top: 30px; } }

/* 波动/结局动画 */
@keyframes hugewave { 0% { transform: scale(0); opacity: 0; } 70% { transform: scale(1.2); opacity: 1; } 100% { transform: scale(1); opacity: 1; } }

@keyframes finalwave {
  0%   { opacity: 0; top: calc(18.75rem - 2.625rem - 3.75rem); }
  40%  { opacity: 1; top: calc(18.75rem - 2.625rem + 0.625rem); }
  50%  { opacity: 1; top: calc(18.75rem - 2.625rem - 0.625rem); }
  60%  { opacity: 1; top: calc(18.75rem - 2.625rem + 0.3125rem); }
  70%  { opacity: 1; top: calc(18.75rem - 2.625rem - 0.3125rem); }
  100% { opacity: 1; top: calc(18.75rem - 2.625rem); }
}

@keyframes defeat_1 { 0% { top: -21.5625rem; transform: scaleX(0.6); } 60% { top: -8.4375rem; transform: scaleX(1.2); } 100% { top: -2.8125rem; transform: scaleX(1); } }
@keyframes defeat_2 { from { opacity: 0; top: -6.25rem; } to { opacity: 1; top: 14.5625rem; } }

/* 小物件/精灵动画 */
.overturned { animation: overturned 1s infinite linear; }
.rapidRotate { transition-property: all; transition-duration: 1s; transition-timing-function: linear; }
@keyframes overturned { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

/* 购买弹窗的入/出场动画（用于 Store 的样式） */
@keyframes purchase { from { opacity: 0; bottom: -3rem; height: 14.5rem; } to { opacity: 1; bottom: 2rem; height: 22.5rem; } }
@keyframes purchaseRemove { from { height: 22.5rem; } to { opacity: 0; height: 14.5rem; bottom: -3rem; } }

/* 帧动画（sprites） */
.collect { width: 5.375rem; height: 5.375rem; object-fit: none; object-position: 0; content: url("../images/items/collect.png"); animation: collect 0.6s forwards step-start; }
@keyframes collect { 0%,16.7% { object-position: 0; } 33.4% { object-position: -5.375rem; } 50% { object-position: -10.75rem; } 66.8% { object-position: -16.125rem; } 83.5% { object-position: -21.5rem; } 100% { object-position: -32.25rem; } }

.sign { width: 3.875rem; height: 3.75rem; object-fit: none; object-position: 0; content: url("../images/mice/roguemouse/sign.png"); animation: sign 1.2s forwards step-start; }
@keyframes sign {
  0%,100% { object-position: 0; }
  8.3% { object-position: -3.875rem; }
  16.6% { object-position: -7.75rem; }
  24.9% { object-position: -11.625rem; }
  33.2% { object-position: -15.5rem; }
  41.5% { object-position: -19.375rem; }
  49.8% { object-position: -23.25rem; }
  58.1% { object-position: -27.125rem; }
  66.4% { object-position: -31rem; }
  74.7% { object-position: -34.875rem; }
  83% { object-position: -38.75rem; }
  91.3% { object-position: -42.625rem; }
}

/* 将界面相关的 keyframes 集中：连接/弹窗/描述/城镇弹窗入场等 */
@keyframes connecting { 0%,100% { left: calc(50% - 2.6875rem); transform: rotateX(-60deg) rotateY(60deg); } 25% { left: calc(50% - 0.5625rem); transform: rotateX(60deg) rotateY(-60deg); } 50% { left: calc(50% - 2.6875rem); transform: rotateX(60deg) rotateY(60deg); } 75% { left: calc(50% - 0.5625rem); transform: rotateX(-60deg) rotateY(-60deg); } }

@keyframes townBoxIn { from { top: 1rem; opacity: 0; } to { top: 0; opacity: 1; } }

@keyframes achievement { 0% { opacity: 1; top: 36.75rem; transform: scale(0.6); } 10% { opacity: 1; top: 32.875rem; transform: scale(1); } 20% { opacity: 1; top: 33.625rem; transform: scale(1); } 80% { opacity: 1; top: 33.625rem; transform: scale(1); } 100% { opacity: 0; top: 36.75rem; transform: scale(0.6); } }

@keyframes desDisplay { from { opacity: 0; margin-top: -0.5rem; transform: scaleY(64%); } to { opacity: 1; margin-top: 0; transform: scaleY(100%); } }
