<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sprite Helper</title>
</head>
<body>
<label>
    <input placeholder="åŠ¨ç”»åç§°" id="name"><br>
    <input placeholder="å¸§æ•°" id="frames"><br>
    <input placeholder="å¸§å®½åº¦" id="width"><br>
    <input placeholder="å¸§é«˜åº¦" id="height"><br>
    <button onclick="generate()">ç”ŸæˆSpriteåŠ¨ç”»è¡¨</button>
    æ°¸ä¹…åŠ¨ç”»<input type="checkbox" checked id="infinite"><br><br>
    <textarea id="content" rows="20" cols="50" placeholder="ğŸ‘‰Spriteæ ·å¼è¡¨å°†ç”Ÿæˆåœ¨è¿™é‡ŒğŸ‘ˆ"></textarea>
</label>
</body>
<script type="application/javascript">
    let generate = () => {
        let name = document.getElementById("name").value;
        let width = document.getElementById("width").value;
        let height = document.getElementById("height").value;
        let frames = document.getElementById("frames").value;
        let infinite = document.getElementById('infinite').checked;
        let key = (Math.round(1000 / (frames)) / 10);
        let temp = "";
        if (infinite) {
            for (let i = 1; i < frames; i++) {
                temp += "\t" + ((i * key).toString().substring(0, 4)) + "%{" + "\n" +
                    "\t\t" + "object-position: " + (-i * width) + "px;" + "\n" +
                    "\t" + "}" + "\n"
            }
            document.getElementById("content").innerHTML =
                "." + name + "{" + "\n" +
                "\t" + "width:" + " " + width + "px;" + "\n" +
                "\t" + "height:" + " " + height + "px;" + "\n" +
                "\t" + "object-fit: none;" + "\n" +
                "\t" + "object-position: 0;" + "\n" +
                "\t" + "animation: " + name + " " + (frames / 10) + "s infinite step-start;" + "\n" +
                "}" + "\n" +
                "@keyframes " + name + " {" + "\n" +
                "\t" + "0%, 100%{" + "\n" +
                "\t\t" + "object-position: 0;" + "\n" +
                "\t" + "}" + "\n" +
                temp +
                "}"
        } else {
            for (let i = 2; i < frames; i++) {
                temp += "\t" + ((i * key).toString().substring(0, 4)) + "%{" + "\n" +
                    "\t\t" + "object-position: " + (-(i - 1) * width) + "px;" + "\n" +
                    "\t" + "}" + "\n"
            }
            temp += "\t" + "100%{" + "\n" +
                "\t\t" + "object-position: " + (-frames * width) + "px;" + "\n" +
                "\t" + "}" + "\n"
            document.getElementById("content").innerHTML =
                "." + name + "{" + "\n" +
                "\t" + "width:" + " " + width + "px;" + "\n" +
                "\t" + "height:" + " " + height + "px;" + "\n" +
                "\t" + "object-fit: none;" + "\n" +
                "\t" + "object-position: 0;" + "\n" +
                "\t" + "animation: " + name + " " + (frames / 10) + "s forwards step-start;" + "\n" +
                "}" + "\n" +
                "@keyframes " + name + " {" + "\n" +
                "\t" + "0%, " + key + "%{" + "\n" +
                "\t\t" + "object-position: 0;" + "\n" +
                "\t" + "}" + "\n" +
                temp +
                "}"
        }
    }
</script>
</html>